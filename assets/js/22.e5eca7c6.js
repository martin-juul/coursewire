(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{250:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"filters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#filters"}},[t._v("#")]),t._v(" Filters")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#overview"}},[t._v("Overview")])]),e("li",[e("a",{attrs:{href:"#defining-filters"}},[t._v("Defining Filters")])]),e("li",[e("a",{attrs:{href:"#registering-filters"}},[t._v("Registering Filters")])]),e("li",[e("a",{attrs:{href:"#building-filters"}},[t._v("Building Filters")]),e("ul",[e("li",[e("a",{attrs:{href:"#the-filter-vue-component"}},[t._v("The Filter Vue Component")])]),e("li",[e("a",{attrs:{href:"#managing-filter-state"}},[t._v("Managing Filter State")])]),e("li",[e("a",{attrs:{href:"#assets"}},[t._v("Assets")])])])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("p",[t._v("Nova ships with several filter types; however, sometimes you may need a filter type that isn't provided out of the box. For this reason, Nova allows you to build custom filters.")]),t._v(" "),e("h2",{attrs:{id:"defining-filters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#defining-filters"}},[t._v("#")]),t._v(" Defining Filters")]),t._v(" "),e("p",[t._v("Custom filters may be generated using the "),e("code",[t._v("nova:custom-filter")]),t._v(" Artisan command. By default, all new filters will be placed in the "),e("code",[t._v("nova-components")]),t._v(" directory of your application. When generating a filter using the "),e("code",[t._v("nova:custom-filter")]),t._v(" command, the filter name you pass to the command should follow the Composer "),e("code",[t._v("vendor/package")]),t._v(" format. So, if we were building an age-range filter, we might run the following command:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("php artisan nova"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("custom"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("filter acme"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("age"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("range\n")])])]),e("p",[t._v("When generating a filter, Nova will prompt you to install the filter's NPM dependencies, compile its assets, and update your application's "),e("code",[t._v("composer.json")]),t._v(' file. All custom filters are registered with your application as a Composer "path" repository.')]),t._v(" "),e("p",[t._v("Nova filters include all of the scaffolding necessary to build your filter. Each filter even contains its own "),e("code",[t._v("composer.json")]),t._v(" file and is ready to be shared with the world on GitHub or the source control provider of your choice.")]),t._v(" "),e("h2",{attrs:{id:"registering-filters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#registering-filters"}},[t._v("#")]),t._v(" Registering Filters")]),t._v(" "),e("p",[t._v("Nova filters may be registered in your resource's "),e("code",[t._v("filters")]),t._v(" method. This method returns an array of filters available to the resource. To register your filter, add your filter to the array of filters returned by this method:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Acme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AgeRange"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AgeRange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Get the filters available for the resource.\n *\n * @param  \\Illuminate\\Http\\Request  $request\n * @return array\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("filters")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Request "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AgeRange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Alternatively, you may use the "),e("code",[t._v("make")]),t._v(" method to instantiate your filter:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Acme"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AgeRange"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AgeRange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Get the filters available for the resource.\n *\n * @param  \\Illuminate\\Http\\Request  $request\n * @return array\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("filters")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Request "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        AgeRange"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Any arguments passed to the "),e("code",[t._v("make")]),t._v(" method will be passed to the constructor of your filter.")]),t._v(" "),e("h2",{attrs:{id:"building-filters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#building-filters"}},[t._v("#")]),t._v(" Building Filters")]),t._v(" "),e("p",[t._v('Each filter generated by Nova includes its own service provider and "filter" class. Using the '),e("code",[t._v("age-range")]),t._v(" filter as an example, the filter class will be located at "),e("code",[t._v("src/AgeRange.php")]),t._v(".")]),t._v(" "),e("p",[t._v("The filter's service provider is also located within the "),e("code",[t._v("src")]),t._v(" directory of the filter, and is registered in your filter's "),e("code",[t._v("composer.json")]),t._v(" file so that it will be auto-loaded by the Laravel framework.")]),t._v(" "),e("h3",{attrs:{id:"the-filter-vue-component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-filter-vue-component"}},[t._v("#")]),t._v(" The Filter Vue Component")]),t._v(" "),e("p",[t._v("When Nova generates your filter, it creates a "),e("code",[t._v("resources/js/components/Filter.vue")]),t._v(" Vue component. This component contains the template and logic for your filter when it is displayed in the filter dropdown menu. By default, the component displays a simple "),e("code",[t._v("select")]),t._v(" filter component, along with the needed code for updating the filter's state.")]),t._v(" "),e("h3",{attrs:{id:"managing-filter-state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#managing-filter-state"}},[t._v("#")]),t._v(" Managing Filter State")]),t._v(" "),e("p",[t._v("Custom Nova filters use Vuex to manage their state. By default, your filter's Vue component stub contains the basic logic necessary to update the filter's current state. When modifying your filter's component, you should make sure the changes are committed to the Vuex store when your filter's \"selected\" value changes:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleChange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updateFilterState'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        filterClass"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filterKey"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        value"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"assets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#assets"}},[t._v("#")]),t._v(" Assets")]),t._v(" "),e("p",[t._v("When Nova generates your filter, "),e("code",[t._v("resources/js")]),t._v(" and "),e("code",[t._v("resources/sass")]),t._v(" directories are generated for you. These directories contain your filter's JavaScript and Sass stylesheets.")]),t._v(" "),e("h4",{attrs:{id:"filter-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#filter-options"}},[t._v("#")]),t._v(" Filter Options")]),t._v(" "),e("p",[t._v("Your filter's Vue component receives a "),e("code",[t._v("filter")]),t._v(" Vue "),e("code",[t._v("prop")]),t._v(". The "),e("code",[t._v("filter")]),t._v(" property provides access to any filter "),e("a",{attrs:{href:"#filter-options"}},[t._v("options")]),t._v(" that may be available:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hues "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hues"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h4",{attrs:{id:"registering-assets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#registering-assets"}},[t._v("#")]),t._v(" Registering Assets")]),t._v(" "),e("p",[t._v("Your Nova filter's service provider registers your filter's compiled assets so that they will be available to the Nova front-end:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Bootstrap any application services.\n *\n * @return void\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("boot")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Nova"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("serving")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ServingNova "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Nova"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'age-range'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("__DIR__")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/../dist/js/filter.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Nova"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'age-range'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("__DIR__")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/../dist/css/filter.css'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Nova"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("translations")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("__DIR__")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/../resources/lang/en/age-range.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("JavaScript Bootstrap & Routing")]),t._v(" "),e("p",[t._v("Your components are bootstrapped and registered in the "),e("code",[t._v("resources/js/filter.js")]),t._v(" file. You are free to modify this file or register additional components here as needed.")])]),t._v(" "),e("h4",{attrs:{id:"compiling-assets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compiling-assets"}},[t._v("#")]),t._v(" Compiling Assets")]),t._v(" "),e("p",[t._v("Your Nova filter contains a "),e("code",[t._v("webpack.mix.js")]),t._v(" file, which is generated when Nova creates your filter. You may build your filter using the NPM "),e("code",[t._v("dev")]),t._v(" and "),e("code",[t._v("prod")]),t._v(" commands:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("// Compile your assets "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" development"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n\n// Compile and minify your assets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run prod\n")])])]),e("p",[t._v("In addition, you may run the NPM "),e("code",[t._v("watch")]),t._v(" command to auto-compile your assets when they are changed:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);