(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{276:function(t,s,a){"use strict";a.r(s);var e=a(2),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"global-search"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#global-search"}},[t._v("#")]),t._v(" Global Search")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#searchable-columns"}},[t._v("Searchable Columns")])]),a("li",[a("a",{attrs:{href:"#title-subtitle-attributes"}},[t._v("Title / Subtitle Attributes")])]),a("li",[a("a",{attrs:{href:"#custom-avatars-covers"}},[t._v("Custom Avatars / Covers")])]),a("li",[a("a",{attrs:{href:"#limiting-global-search-results"}},[t._v("Limiting Global Search Results")])]),a("li",[a("a",{attrs:{href:"#disabling-global-search"}},[t._v("Disabling Global Search")])]),a("li",[a("a",{attrs:{href:"#customizing-global-search-links"}},[t._v("Customizing Global Search Links")])])])]),a("p"),t._v(" "),a("p",[t._v("Nova not only allows you to search within specific resources and relationships, you may also globally search across all your resources using the global search input within the top-navigation bar of the Nova administration panel:")]),t._v(" "),a("p",[a("img",{attrs:{src:"img/global-search.png",alt:"Global Search"}})]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Focusing Global Search")]),t._v(" "),a("p",[t._v("You can focus the global search input by pressing "),a("code",[t._v("/")]),t._v(" (forward slash) on your keyboard. Pressing "),a("code",[t._v("ESC")]),t._v(" (escape key) will also close the global search input.")])]),t._v(" "),a("h3",{attrs:{id:"searchable-columns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#searchable-columns"}},[t._v("#")]),t._v(" Searchable Columns")]),t._v(" "),a("p",[t._v("To define which resource fields are searchable, you may assign an array of database columns in the "),a("code",[t._v("search")]),t._v(" property of your resource class. This includes "),a("code",[t._v("id")]),t._v(" column by default, but you may override it to your needs:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * The columns that should be searched.\n *\n * @var array\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$search")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'author'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Scout Integration")]),t._v(" "),a("p",[t._v("If you are using Nova's Scout integration, the "),a("code",[t._v("$search")]),t._v(" column has no effect on your search results and may be ignored. You should manage the searchable columns in the Algolia dashboard.")])]),t._v(" "),a("h3",{attrs:{id:"title-subtitle-attributes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#title-subtitle-attributes"}},[t._v("#")]),t._v(" Title / Subtitle Attributes")]),t._v(" "),a("p",[t._v('When a resource is shown within the search results, the results will display the "title" of the resource. For example, a '),a("code",[t._v("User")]),t._v(" resource may use the "),a("code",[t._v("name")]),t._v(" attribute as its title. Then, when the resource is shown within the global search results, that attribute will be displayed.")]),t._v(" "),a("p",[t._v('To customize the "title" attribute of a resource, you may define a '),a("code",[t._v("title")]),t._v(" property on the resource class:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * The single value that should be used to represent the resource when being displayed.\n *\n * @var string\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$title")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Alternatively, you may override the resource's "),a("code",[t._v("title")]),t._v(" method:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Get the value that should be displayed to represent the resource.\n *\n * @return string\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Displaying Avatar in Search Results")]),t._v(" "),a("p",[t._v('You may also display resource\'s "avatar" next to the title in the search result by adding an '),a("RouterLink",{attrs:{to:"/nova/resources/fields.html#avatar-field"}},[t._v("Avatar")]),t._v(" field to the resource.")],1)]),t._v(" "),a("h4",{attrs:{id:"subtitles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subtitles"}},[t._v("#")]),t._v(" Subtitles")]),t._v(" "),a("p",[t._v('You may also display a smaller "subtitle" attribute within the global search results. The subtitle will be placed directly under the title attribute. In this screenshot, you can see that the '),a("code",[t._v("Post")]),t._v(" resource's author is displayed as a subtitle, allowing the quick identification of who wrote the post:")]),t._v(" "),a("p",[a("img",{attrs:{src:"img/global-search.png",alt:"Global Search"}})]),t._v(" "),a("p",[t._v("To define a resource's subtitle, override the "),a("code",[t._v("subtitle")]),t._v(" method of the resource:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Get the search result subtitle for the resource.\n *\n * @return string\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subtitle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"Author: '),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Eager Loading")]),t._v(" "),a("p",[t._v("If your subtitle accesses information on a related resource, you should consider adding the related resource to your resource's "),a("RouterLink",{attrs:{to:"/nova/resources/#eager-loading"}},[t._v("eager load array")]),t._v(".")],1)]),t._v(" "),a("h3",{attrs:{id:"custom-avatars-covers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom-avatars-covers"}},[t._v("#")]),t._v(" Custom Avatars / Covers")]),t._v(" "),a("p",[t._v('If you are building a custom field that you would like to serve as the "avatar image" / cover art for global search results, your field should implement the '),a("code",[t._v("Laravel\\Nova\\Contracts\\Cover")]),t._v(" interface. This contract requires you to define a "),a("code",[t._v("resolveThumbnailUrl")]),t._v(' method, which should return the URL of your desired "cover art":')]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CoverField")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Field")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cover")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * Resolve the thumbnail URL for the field.\n     *\n     * @return string|null\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolveThumbnailUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'https://www.example.com/avatar/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("md5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("strtolower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'?s=300'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"limiting-global-search-results"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#limiting-global-search-results"}},[t._v("#")]),t._v(" Limiting Global Search Results")]),t._v(" "),a("p",[t._v("You can limit the number of results that are returned in the global search by overriding the "),a("code",[t._v("globalSearchResults")]),t._v(" property on the resource:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * The number of results to display in the global search.\n *\n * @var int\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$globalSearchResults")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"disabling-global-search"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-global-search"}},[t._v("#")]),t._v(" Disabling Global Search")]),t._v(" "),a("p",[t._v("By default, all Nova resources are globally searchable; however, you may exclude a given resource from the global search by overriding the "),a("code",[t._v("globallySearchable")]),t._v(" property on the resource:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Indicates if the resource should be globally searchable.\n *\n * @var bool\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$globallySearchable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean constant"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"customizing-global-search-links"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customizing-global-search-links"}},[t._v("#")]),t._v(" Customizing Global Search Links")]),t._v(" "),a("p",[t._v("By default, clicking a result will take you to resource's detail page; however, you may customize this to instead take you to the edit page.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Where should the global search link to?\n *\n * @var string\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$globalSearchLink")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'edit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("If you need to fine-tuned control over which link is used, you can override the "),a("code",[t._v("globalSearchLink")]),t._v(" method on the resource:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Detetermine whether the global search links will take the user to the detail page.\n *\n * @param \\Laravel\\Nova\\Http\\Requests\\NovaRequest $request\n *\n * @return string\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("globalSearchLink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NovaRequest "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$globalSearchLink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);